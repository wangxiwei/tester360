# 用户与组的属性修改

## 手工修改

回忆一下与用户属性有关的文件是哪几个？

回忆一下与用户组属性有关的文件是哪几个？

那么手工编辑它们即可。忘了格式？翻``man``手册吧

## 工具修改

命令和很好记，修改用户属性和用户组属性的命令分别是``usermod``和``groupmod``，可以修改``/etc/passwd``和``/etc/group``文件中任何字段的信息。

需要修改用户密码，组密码信息，可以使用``passwd``和``gpasswd``命令，同样可以修改``/etc/shadow``和``/etc/gshadow``文件中任何字段的信息。

这些命令都相当简单，不在这里做详细展示，可以自行参考``--help``参数帮助或``man``手册学习如何使用。

可以注意到这些命令有些功能交集，比如将一个普通用户``myuser``添加到一个附加组``mygrp``中，以下两个命令都可以实现:

```
usermod -a -G mygrp myuser
gpasswd -a myuser mygrp
```

比如解锁一个用户，以下两个命令效果也是等同的:

```
usermod -U myuser
passwd -u myuser
```

基本上面提到的4个命令足以搞定所有用户与组的属性及密码相关设置，仍然有一些有趣的小工具，仅对某个文件的某个字段进行修改。

常见的如下:

* ``chsh``: change shell，改变用户的shell(需要注销重新登录生效)
* ``chage``: change age，修改密码有效期限。``chage -l username``可以显示用户解析过的用户密码期限信息。
